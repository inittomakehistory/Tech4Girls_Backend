<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/dashboard.css">
    <title>Profile</title>
    <link rel="icon" type="image/jpeg" href="{{ url_for('static', filename='img/fithub logo.jpg') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <img src="../static/img/orig-logo.jpeg" alt="FitHub logo" class="main-logo">
        <ul class="side-menu">
            <li><a href="{{url_for('dashboard')}}"><i class='bx bxs-dashboard'></i>Dashboard</a></li>
            <li><a href="{{url_for('schedule')}}"><i class="bx bx-bar-chart"></i>Schedule</a></li>
            <li><a href="{{url_for('blog')}}"><i class='bx bxl-blogger'></i></i>Blog</a></li>
            <li class="active"><a href="{{url_for('profile')}}"><i class='bx bx-user'></i>Profile</a></li>
        </ul>
        <ul class="side-menu">
            <li>
                <a href="{{url_for('sign_in')}}" class="logout">
                    <i class='bx bx-user-minus'></i>
                    Logout
                </a>
            </li>
        </ul>
    </div>
    <!-- End of Sidebar -->

    <!-- Main Content -->
    <div class="content">
        <!-- Navbar -->
        <nav>
            <i class="bx bx-menu"></i>
            <h1>Profile</h1>

            <h3>Hello, User</h3>
            <a href="#" class="profile">
                <i class="bx bxs-face"></i>
            </a>
            <a href="#" class="notif">
                <i class="bx bx-bell"></i>
                <span class="count">12</span>
            </a>

        </nav>

        <!-- End of Navbar -->

        <main>

            <div class="main-pic">
                <img id="pic" src="img/profile.jfif" alt="profile picture">
                <div id="picinput"></div>
                <button id="editbtn">Edit profile picture</button>
            </div>

            <div>
                <ul class="insights">
                    <li>
                        <span class="info">
                                <p><strong>Name:</strong> {{ user['name'] }}</p>
                        </span>
                    </li>
                    <li>
                        <span class="info">
                            <p><strong>Date Of Birth:</strong> {{ user['dobb'] }}</p>
                        </span>
                    </li>
                </ul>
            </div>

            <div>
                <ul class="insights">
                    <li>
                        <span class="info">
                            <p><strong>Bio:</strong> {{ user['bio'] }}</p>
                        </span>
                    </li>
                    <li>
                        <span class="info">
                            <p><strong>Email:</strong> {{ user['email'] }}</p>
                        </span>
                    </li>
                </ul>
            </div>

            <div>
                <ul class="insights">
                    <li>
                        <span class="info">
                            <h3>
                                Goals
                            </h3>
                            <p>To lose 5kg.</p>
                        </span>
                    </li>
                    <li>
                        <span class="info">
                            <h3>
                                Phone Number
                            </h3>
                            <p>+233 50 586 6602</p>
                        </span>
                    </li>
                </ul>
            </div>

            <div class="edit"><a href="{{ url_for('edit_profile') }}"><button><b> Edit Profile</b></button></a></div>

            <style>
                .main-pic {
                    text-align: center;
                    display: block;
                }

                .main-pic img {
                    border-radius: 50%;
                    width: 200px;
                    height: 200px;
                }

                .edit{
                    text-align: center;
                }
                .edit button{
                    width: 100px;
                    height: 30px;
                    background-color: white;
                    border-radius: 20px;
                    font-size: 15px;
                    border: 1px green;
                    margin-top: 20px;
                    margin-bottom: 20px;
                }
            </style>
            <script>
                document.getElementById("editbtn").addEventListener("click", function () {
                    let input;
                    let div = document.getElementById("picinput");
                    if (div.childNodes.length == 0) {
                        input = document.createElement("input");
                        input.type = "file";
                    } else {
                        input = div.childNodes[0];
                    }
                    div.appendChild(input);
                    input.addEventListener("change", function () {
                        const reader = new FileReader();
                        reader.onload = function (event) {
                            document.getElementById("pic").src = event.target.result;
                            div.childNodes.length = 0;
                        };
                        reader.readAsDataURL(input.files[0]);
                    })

                })

            </script>

</body>

</html>